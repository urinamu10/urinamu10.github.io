---
title: "(37일차) 통계 2강 / pandas 4강"
date: 2025-12-12 17:00:00 +0900
categories: [부트캠프]
tags: [python, 통계]
math: true
---


## Today I Learend

1. 코드카타 (SQL)

2. 통계 2강

3. pandas 4강

## 🚩 코드카타 (SQL)

### **Exchange Seats (교환 좌석)**

---

출처 - [Exchange Seats - LeetCode](https://leetcode.com/problems/exchange-seats/)

- 테이블

![alt text](/assets/img/image-1.png)

- 문제

<aside>

연속된 두 학생마다 좌석 ID를 교환하는 해답을 작성하세요. 학생 ID가 홀수 일 경우 마지막 학생의 ID는 교환되지 않습니다.

ID를 기준으로 오**름차순으로** 반환합니다.

결과 형식은 다음 예시와 같습니다.

</aside>

![alt text](/assets/img/image100.png)
- 풀이

> 1.  LEAD, LAG 윈도우함수 사용하기
> 

연속된 두 학생마다 ID의 순서를 뒤바꿔야하는데 이를 위해선 

Case When문을 통해 ID가 홀수인지 짝수인지를 구분하는 조건을 줘야합니다.

![alt text](/assets/img/image101.png)
- id는 1부터 시작하므로 홀수일 경우엔

```sql
select id, 
       case when id % 2 = 1 then lead(student) over (order by id) 
            else lag(student) over (order by id)
       end as student
```

> 2.  Coalesce 함수로 마지막 홀수 ID 제외시키기
> 

하지만 학생의 ID가 홀수일 경우엔 마지막 학생 ID는 교환시키지 않고 그대로 유지하라는 조건이 걸려있습니다.

이는 `coalesce` 함수를 통해 쉽게 구현할 수 있습니다.

- `Null`을 만나면 기존 `student`출력 (마지막 교환 X)

```sql
coalesce(lead(student) over (order by id), student)
```

- 최종 코드

```sql
select id, 
       case when   id % 2 = 1 then coalesce(lead(student) over (order by id), student) 
            else lag(student) over (order by id)
       end as student
from seat 
```


## 1. 통계 2강 (신뢰구간과 가설검정)

---
### 1-1 추정 

통계학의 세계엔 두가지 거대한 철학적 줄기가 있는데 바로 빈도주의와 베이지안 관점입니다.

- **빈도주의 (Frequentist): 반복했을 때 평균적으로 어떠한 결과가 나올지를 생각**

    - 비교적 표본이 많은 경우 
    - 정규분포 가정이 잘 설립하는 경우
    - 가설검정이 필요한 경우
    - 해석이 명확한 검정 결과가 필요한 경우

즉 정규분포 형태를 띄며 표본이 조금 더 풍부한 데이터에 대해서는 빈도주의적 관점을 가지는게 좋고,



- **베이지안 (Bayesian): 주어진 정보에서 우리가 얼마나 확신을 할 수 있는지를 표현**

    - 표본이 매우 적거나 불확실할 경우
    - 사전 지식을 활용하고 싶을 경우
    - 실시간 업데이트가 필요할 경우
    - 확률로 직관적인 해석이 필요할 경우 

만약 표본이 굉장히 작아 불확실한 데이터이거나 확률로써 직관적인 해석이 필요하다면 베이지안적 관점을 이용할 수 있다고 이해하게 되었습니다. 


#### 빈도주의 vs 베이지안

| **구분** | **빈도주의 (Frequentist)** | **베이지안 (Bayesian)** |
| --- | --- | --- |
| **확률의 의미** | 장기적 반복을 통한 비율 | 믿음, 불확실성 |
| **예시** | "신뢰구간 95%는 100번 중 95번 참값 포함" | "참값이 이 구간 안에 있을 확률이 95%" |
| **모집단 모수** | 고정된 값 -> 확률 없음 | 확률변수처럼 다룸 -> 확률 있음 |
| **초점** | 표본의 반복 분포 | 데이터와 사전 정보의 결합 |
| **적용** | 신뢰구간, 가설검정 | 베이지안 추론, 머신러닝 등 |
| **계산 방식** | 사전 정보 없이 오로지 데이터만 사용 | 사전 정보와 데이터 결합 |
| **결과** | 주로 신뢰구간, p-value, 평균 추정값 | 사후분포, 신뢰도 있는 구간, 업데이트된 믿음 |


- 결국 빈도주의의 핵심은 우리가 추정하려는 모집단의 모수는 우리가 모를뿐이지 이미 정해져있어

- 베이지안은 우리가 가진 데이터 내에서 모수의 확률을 실시간으로 업데이트해보자

라는것이 두 관점의 핵심적인 차이점이라는 것을 알게되었습니다.

### 1-2 모집단과 표본

![alt text](/assets/img/image102.png)

우리는 모집단을 모두 추출할 수 없기에 표본을 추출하였고 그 표본으로 모집단을 추측하는 과정이 통계의 핵심이라는 부분을 배울 수 있었습니다.


### 1-3 표본오차와 표준오차

- **표본오차(sample error)**
    
$$ \bar{x} - \mu $$

    
    - 표본평균과 모집단 평균의 차이
    - 표본을 하나만 뽑았을 때 생기는 오차



- **표준오차(standard error)**

$$ SE = \frac{\sigma}{\sqrt{n}} $$
      
    - 표본평균이 얼마나 흔들리는가(변동성)를 나타내는 지표
        
    = 표본평균의 표준편차
        
    - 표본이 커질수록 표준오차는 작아진다.
    - 표본크기 n이 커질수록 표본평균은 모집단 평균에 가까워지고, 표본오차는 작아지는 경향을 갖는다.
    - 큰 수의 법칙(Law of large numbers)

